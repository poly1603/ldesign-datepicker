<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LDesign DatePicker ç¤ºä¾‹</title>
  <link rel="stylesheet" href="../src/styles/index.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      min-height: 100vh;
      padding: 40px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 40px;
    }

    h2 {
      color: #666;
      margin-bottom: 16px;
      font-size: 18px;
    }

    .theme-switch {
      text-align: center;
      margin-bottom: 40px;
    }

    .theme-switch button {
      padding: 8px 24px;
      margin: 0 8px;
      border: 1px solid #d9d9d9;
      background: #fff;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .theme-switch button:hover {
      border-color: #1890ff;
      color: #1890ff;
    }

    .theme-switch button.active {
      background: #1890ff;
      color: #fff;
      border-color: #1890ff;
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
    }

    .demo-card {
      background: #fff;
      border-radius: 8px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }

    .picker-container {
      margin-top: 16px;
      border: 1px solid #e8e8e8;
      border-radius: 8px;
      overflow: hidden;
    }

    .value-display {
      margin-top: 16px;
      padding: 12px;
      background: #f9f9f9;
      border-radius: 6px;
      font-size: 14px;
      color: #666;
    }

    .value-display strong {
      color: #1890ff;
    }

    .demo-desc {
      font-size: 13px;
      color: #999;
      margin-bottom: 12px;
    }

    /* æš—è‰²ä¸»é¢˜ */
    body.dark {
      background: #1a1a1a;
    }

    body.dark h1 {
      color: #fff;
    }

    body.dark h2 {
      color: #bbb;
    }

    body.dark .demo-card {
      background: #2a2a2a;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.32);
    }

    body.dark .picker-container {
      border-color: #434343;
    }

    body.dark .value-display {
      background: #1f1f1f;
      color: #bbb;
    }

    body.dark .theme-switch button {
      background: #2a2a2a;
      border-color: #434343;
      color: #fff;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ğŸ—“ï¸ LDesign DatePicker ç»„ä»¶åº“</h1>

    <div class="theme-switch">
      <button class="active" onclick="setTheme('light')">â˜€ï¸ äº®è‰²ä¸»é¢˜</button>
      <button onclick="setTheme('dark')">ğŸŒ™ æš—è‰²ä¸»é¢˜</button>
    </div>

    <div class="demo-grid">
      <!-- æ—¥æœŸé€‰æ‹©å™¨ -->
      <div class="demo-card">
        <h2>ğŸ“… æ—¥æœŸé€‰æ‹©å™¨ DatePicker</h2>
        <div id="date-picker" class="picker-container"></div>
        <div id="date-value" class="value-display">è¯·é€‰æ‹©æ—¥æœŸ</div>
      </div>

      <!-- å¹´ä»½é€‰æ‹©å™¨ -->
      <div class="demo-card">
        <h2>ğŸ“† å¹´ä»½é€‰æ‹©å™¨ YearPicker</h2>
        <div id="year-picker" class="picker-container"></div>
        <div id="year-value" class="value-display">è¯·é€‰æ‹©å¹´ä»½</div>
      </div>

      <!-- æœˆä»½é€‰æ‹©å™¨ -->
      <div class="demo-card">
        <h2>ğŸ“… æœˆä»½é€‰æ‹©å™¨ MonthPicker</h2>
        <div id="month-picker" class="picker-container"></div>
        <div id="month-value" class="value-display">è¯·é€‰æ‹©æœˆä»½</div>
      </div>

      <!-- æ˜ŸæœŸé€‰æ‹©å™¨ -->
      <div class="demo-card">
        <h2>ğŸ“‹ æ˜ŸæœŸé€‰æ‹©å™¨ WeekPicker</h2>
        <div id="week-picker" class="picker-container"></div>
        <div id="week-value" class="value-display">è¯·é€‰æ‹©å‘¨</div>
      </div>

      <!-- æ—¶é—´é€‰æ‹©å™¨ -->
      <div class="demo-card">
        <h2>â° æ—¶é—´é€‰æ‹©å™¨ TimePicker</h2>
        <p class="demo-desc">æ»šè½®é€‰æ‹©å™¨æ•ˆæœï¼Œæ”¯æŒé¼ æ ‡æ»šè½®å’Œç‚¹å‡»</p>
        <div id="time-picker" class="picker-container"></div>
        <div id="time-value" class="value-display">è¯·é€‰æ‹©æ—¶é—´</div>
      </div>

      <!-- æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨ -->
      <div class="demo-card" style="grid-column: span 2;">
        <h2>ğŸ“…â° æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨ DateTimePicker</h2>
        <p class="demo-desc">å·¦ä¾§æ—¥æœŸ + å³ä¾§æ—¶é—´æ»šè½®</p>
        <div id="datetime-picker" class="picker-container"></div>
        <div id="datetime-value" class="value-display">è¯·é€‰æ‹©æ—¥æœŸæ—¶é—´</div>
      </div>

      <!-- æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨ -->
      <div class="demo-card" style="grid-column: span 2;">
        <h2>ğŸ“…â†”ï¸ğŸ“… æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨ DateRangePicker</h2>
        <p class="demo-desc">é€‰å®Œèµ·æ­¢æ—¥æœŸåä¸å†æœ‰hoveræ•ˆæœ</p>
        <div id="daterange-picker" class="picker-container"></div>
        <div id="daterange-value" class="value-display">è¯·é€‰æ‹©æ—¥æœŸèŒƒå›´</div>
      </div>

      <!-- å¹´ä»½èŒƒå›´é€‰æ‹©å™¨ -->
      <div class="demo-card">
        <h2>ğŸ“†â†”ï¸ğŸ“† å¹´ä»½èŒƒå›´é€‰æ‹©å™¨ YearRangePicker</h2>
        <div id="yearrange-picker" class="picker-container"></div>
        <div id="yearrange-value" class="value-display">è¯·é€‰æ‹©å¹´ä»½èŒƒå›´</div>
      </div>

      <!-- æœˆä»½èŒƒå›´é€‰æ‹©å™¨ -->
      <div class="demo-card" style="grid-column: span 2;">
        <h2>ğŸ“…â†”ï¸ğŸ“… æœˆä»½èŒƒå›´é€‰æ‹©å™¨ MonthRangePicker</h2>
        <div id="monthrange-picker" class="picker-container"></div>
        <div id="monthrange-value" class="value-display">è¯·é€‰æ‹©æœˆä»½èŒƒå›´</div>
      </div>

      <!-- æ—¶é—´èŒƒå›´é€‰æ‹©å™¨ -->
      <div class="demo-card" style="grid-column: span 2;">
        <h2>â°â†”ï¸â° æ—¶é—´èŒƒå›´é€‰æ‹©å™¨ TimeRangePicker</h2>
        <div id="timerange-picker" class="picker-container"></div>
        <div id="timerange-value" class="value-display">è¯·é€‰æ‹©æ—¶é—´èŒƒå›´</div>
      </div>

      <!-- æ—¥æœŸæ—¶é—´èŒƒå›´é€‰æ‹©å™¨ -->
      <div class="demo-card" style="grid-column: span 2;">
        <h2>ğŸ“…â°â†”ï¸ğŸ“…â° æ—¥æœŸæ—¶é—´èŒƒå›´é€‰æ‹©å™¨ DateTimeRangePicker</h2>
        <div id="datetimerange-picker" class="picker-container"></div>
        <div id="datetimerange-value" class="value-display">è¯·é€‰æ‹©æ—¥æœŸæ—¶é—´èŒƒå›´</div>
      </div>
    </div>
  </div>

  <script type="module">
    import {
      DatePicker,
      YearPicker,
      MonthPicker,
      WeekPicker,
      TimePicker,
      DateTimePicker,
      DateRangePicker,
      YearRangePicker,
      MonthRangePicker,
      TimeRangePicker,
      DateTimeRangePicker,
      i18n,
      zhCN,
      enUS
    } from '../src/index.ts';

    // æ³¨å†Œè¯­è¨€åŒ…
    i18n.register(zhCN);
    i18n.register(enUS);
    i18n.use('zh-CN');

    // æ ¼å¼åŒ–æ—¥æœŸ
    function formatDate(date) {
      if (!date) return 'æœªé€‰æ‹©';
      const y = date.getFullYear();
      const m = String(date.getMonth() + 1).padStart(2, '0');
      const d = String(date.getDate()).padStart(2, '0');
      return `${y}-${m}-${d}`;
    }

    function formatDateTime(date) {
      if (!date) return 'æœªé€‰æ‹©';
      const y = date.getFullYear();
      const m = String(date.getMonth() + 1).padStart(2, '0');
      const d = String(date.getDate()).padStart(2, '0');
      const h = String(date.getHours()).padStart(2, '0');
      const min = String(date.getMinutes()).padStart(2, '0');
      const s = String(date.getSeconds()).padStart(2, '0');
      return `${y}-${m}-${d} ${h}:${min}:${s}`;
    }

    function formatTime(date) {
      if (!date) return 'æœªé€‰æ‹©';
      const h = String(date.getHours()).padStart(2, '0');
      const m = String(date.getMinutes()).padStart(2, '0');
      const s = String(date.getSeconds()).padStart(2, '0');
      return `${h}:${m}:${s}`;
    }

    // æ—¥æœŸé€‰æ‹©å™¨
    const datePicker = new DatePicker({
      showToday: true,
      showConfirm: false,
      onChange: (value) => {
        document.getElementById('date-value').innerHTML =
          `é€‰ä¸­æ—¥æœŸ: <strong>${formatDate(value)}</strong>`;
      }
    });
    datePicker.mount(document.getElementById('date-picker'));

    // å¹´ä»½é€‰æ‹©å™¨
    const yearPicker = new YearPicker({
      showToday: true,
      showConfirm: false,
      onChange: (value) => {
        document.getElementById('year-value').innerHTML =
          `é€‰ä¸­å¹´ä»½: <strong>${value ? value.getFullYear() : 'æœªé€‰æ‹©'}</strong>`;
      }
    });
    yearPicker.mount(document.getElementById('year-picker'));

    // æœˆä»½é€‰æ‹©å™¨
    const monthPicker = new MonthPicker({
      showToday: true,
      showConfirm: false,
      onChange: (value) => {
        if (value) {
          const y = value.getFullYear();
          const m = value.getMonth() + 1;
          document.getElementById('month-value').innerHTML =
            `é€‰ä¸­æœˆä»½: <strong>${y}å¹´${m}æœˆ</strong>`;
        }
      }
    });
    monthPicker.mount(document.getElementById('month-picker'));

    // æ˜ŸæœŸé€‰æ‹©å™¨
    const weekPicker = new WeekPicker({
      showToday: true,
      showConfirm: false,
      onChange: (value) => {
        if (value) {
          const range = weekPicker.getWeekRange();
          if (range) {
            document.getElementById('week-value').innerHTML =
              `é€‰ä¸­å‘¨: <strong>${formatDate(range[0])} ~ ${formatDate(range[1])}</strong>`;
          }
        }
      }
    });
    weekPicker.mount(document.getElementById('week-picker'));

    // æ—¶é—´é€‰æ‹©å™¨
    const timePicker = new TimePicker({
      showNow: true,
      showConfirm: true,
      onChange: (value) => {
        document.getElementById('time-value').innerHTML =
          `é€‰ä¸­æ—¶é—´: <strong>${formatTime(value)}</strong>`;
      }
    });
    timePicker.mount(document.getElementById('time-picker'));

    // æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨
    const dateTimePicker = new DateTimePicker({
      onChange: (value) => {
        document.getElementById('datetime-value').innerHTML =
          `é€‰ä¸­æ—¥æœŸæ—¶é—´: <strong>${formatDateTime(value)}</strong>`;
      }
    });
    dateTimePicker.mount(document.getElementById('datetime-picker'));

    // æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨
    const dateRangePicker = new DateRangePicker({
      showWeekNumber: true,
      onChange: (value) => {
        if (value && value[0] && value[1]) {
          document.getElementById('daterange-value').innerHTML =
            `é€‰ä¸­èŒƒå›´: <strong>${formatDate(value[0])} ~ ${formatDate(value[1])}</strong>`;
        } else if (value && value[0]) {
          document.getElementById('daterange-value').innerHTML =
            `å¼€å§‹æ—¥æœŸ: <strong>${formatDate(value[0])}</strong>ï¼Œè¯·é€‰æ‹©ç»“æŸæ—¥æœŸ`;
        }
      }
    });
    dateRangePicker.mount(document.getElementById('daterange-picker'));

    // å¹´ä»½èŒƒå›´é€‰æ‹©å™¨
    const yearRangePicker = new YearRangePicker({
      onChange: (value) => {
        if (value && value[0] && value[1]) {
          document.getElementById('yearrange-value').innerHTML =
            `é€‰ä¸­èŒƒå›´: <strong>${value[0].getFullYear()} ~ ${value[1].getFullYear()}</strong>`;
        }
      }
    });
    yearRangePicker.mount(document.getElementById('yearrange-picker'));

    // æœˆä»½èŒƒå›´é€‰æ‹©å™¨
    const monthRangePicker = new MonthRangePicker({
      onChange: (value) => {
        if (value && value[0] && value[1]) {
          const s = `${value[0].getFullYear()}å¹´${value[0].getMonth() + 1}æœˆ`;
          const e = `${value[1].getFullYear()}å¹´${value[1].getMonth() + 1}æœˆ`;
          document.getElementById('monthrange-value').innerHTML =
            `é€‰ä¸­èŒƒå›´: <strong>${s} ~ ${e}</strong>`;
        }
      }
    });
    monthRangePicker.mount(document.getElementById('monthrange-picker'));

    // æ—¶é—´èŒƒå›´é€‰æ‹©å™¨
    const timeRangePicker = new TimeRangePicker({
      onChange: (value) => {
        if (value && value[0] && value[1]) {
          document.getElementById('timerange-value').innerHTML =
            `é€‰ä¸­èŒƒå›´: <strong>${formatTime(value[0])} ~ ${formatTime(value[1])}</strong>`;
        }
      }
    });
    timeRangePicker.mount(document.getElementById('timerange-picker'));

    // æ—¥æœŸæ—¶é—´èŒƒå›´é€‰æ‹©å™¨
    const dateTimeRangePicker = new DateTimeRangePicker({
      onChange: (value) => {
        if (value && value[0] && value[1]) {
          document.getElementById('datetimerange-value').innerHTML =
            `é€‰ä¸­èŒƒå›´: <strong>${formatDateTime(value[0])} ~ ${formatDateTime(value[1])}</strong>`;
        }
      }
    });
    dateTimeRangePicker.mount(document.getElementById('datetimerange-picker'));

    // ä¸»é¢˜åˆ‡æ¢
    window.setTheme = function (theme) {
      document.body.classList.toggle('dark', theme === 'dark');
      document.body.setAttribute('data-theme', theme);

      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      document.querySelectorAll('.theme-switch button').forEach(btn => {
        btn.classList.remove('active');
      });
      event.target.classList.add('active');
    };
  </script>
</body>

</html>